var Travelsoft=Travelsoft||{};(function(a){"use strict";a.SITE_ADDRESS="https://vetliva.ru",a.REQUEST_URL=a.SITE_ADDRESS+"/travelsoft.pm",a.JS_URL=a.REQUEST_URL+"/assets/js",a.CSS_URL=a.REQUEST_URL+"/assets/css"})(Travelsoft);(function(a){"use strict";a.utils={callbacks:{},sendRequest:function(b,c,d){function e(){f||(delete a.utils.callbacks[g],console.warn("Query error "+h))}var f=!1,g="cb"+(Math.random()+"").slice(-6),h=a.REQUEST_URL+"/?",i=c,j;i.push("callback=Travelsoft.utils.callbacks."+g),i.push("method="+b),h+=i.join("&"),a.utils.callbacks[g]=function(k){f=!0,delete a.utils.callbacks[g],d(k)},j=document.createElement("script"),j.type="text/javascript",j.onload=e,j.onerror=e,j.src=h,document.body.appendChild(j)},screen:function(b){var c="";return"string"==typeof b&&(c=b.replace(/&/g,"&amp;"),c=b.replace(/</g,"&lt;"),c=b.replace(/"/g,"&quot;"),c=b.replace(/>/g,"&gt;"),c=b.replace(/'/g,"&#039;"),c=b.replace(/script/g,""),c=b.replace(/onclick/g,""),c=b.replace(/onchange/g,""),c=b.replace(/onkeydown/g,""),c=b.replace(/onkeypress/g,""),c=b.replace(/onmouseout/g,""),c=b.replace(/onmouseover/g,"")),c},HWatcher:{__prev:null,__id:null,__parent:null,watch:function(b){var c=this;c.unwatch(b),c.__id=setInterval(function(){c.__prev!==b.scrollHeight&&(c.__parent&&(c.__parent.style.height=b.scrollHeight+10+"px"),c.__prev=b.scrollHeight)},100)},unwatch:function(b){this.__id&&(clearInterval(this.__id),this.__id=null,this.__prev=null,b.style.height=0)}}}})(Travelsoft);(function(a,b,c){"use strict";a.datepicker={init:function(d){var e=document.createElement("div"),f=document.createElement("div"),g=window.parent.document.getElementById(d.iframe_id),h=c(e);e.id="datepicker-shower",e.style.padding="10px 0 0 0",e.innerHTML=`<div id="floatBarsG">
                                                <div id="floatBarsG_1" class="floatBarsG"></div>
                                                <div id="floatBarsG_2" class="floatBarsG"></div>
                                                <div id="floatBarsG_3" class="floatBarsG"></div>
                                                <div id="floatBarsG_4" class="floatBarsG"></div>
                                                <div id="floatBarsG_5" class="floatBarsG"></div>
                                                <div id="floatBarsG_6" class="floatBarsG"></div>
                                                <div id="floatBarsG_7" class="floatBarsG"></div>
                                                <div id="floatBarsG_8" class="floatBarsG"></div>
                                        </div>`,f.id="datepicker-notice",f.innerText="\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0432\u0435 \u0434\u0430\u0442\u044B",b.locale("ru"),document.body.appendChild(e);var i={minDate:new Date,startDate:d.start_date,endDate:d.end_date,linkedCalendars:!1,alwaysShowCalendars:!0,autoApply:!0,locale:{format:d.format,separator:d.date_separator,daysOfWeek:b.weekdaysMin(),monthNames:b.monthsShort(),firstDay:b.localeData().firstDayOfWeek()}};d.defValue&&(i.startDate=d.defValue.split(d.date_separator)[0],i.endDate=d.defValue.split(d.date_separator)[1]),h.daterangepicker(i,function(j,k){g.style.display="none",g.dataset.daterange=[b(j).format(d.format),b(k).format(d.format)].join(d.date_separator),setTimeout(function(l){l.trigger("click")},500,h)}).on("show.daterangepicker",function(j,k){var l=k.container.find(".calendars"),m=l.find(".text-duration"),n=b(k.startDate._d),o=b(k.endDate._d),p=o.diff(n,"days")+1;m.length||(l.append("<div class=\"clearfix\"></div><div class=\"text-center text-duration-area\"><b>\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C (\u0434\u043D\u0435\u0439): <span class=\"text-duration\">0<span></b></div>"),m=l.find(".text-duration"),l.on("mouseenter.daterangepicker","td.available",function(){if(c(this).hasClass("available")){var q=c(this).attr("data-title"),r=q.substr(1,1),s=q.substr(3,1),t=c(this).parents(".calendar"),u=t.hasClass("left")?k.leftCalendar.calendar[r][s]:k.rightCalendar.calendar[r][s],v=b(u._d),w=v.diff(n,"days")+1;m.text(0<w?w:0)}}).on("mouseleave.daterangepicker","td.available",function(){p=o?o.diff(n,"days")+1:0,m.text(p)}).on("mousedown.daterangepicker","td.available",function(){var q=c(this).attr("data-title"),r=q.substr(1,1),s=q.substr(3,1),t=c(this).parents(".calendar"),u=t.hasClass("left")?k.leftCalendar.calendar[r][s]:k.rightCalendar.calendar[r][s];n=b(u._d),o=null})),m.text(p)}),h.one("show.daterangepicker",function(j,k){c(k.container).find(".end-date").removeClass(".end-date")}),setTimeout(function(j){j.style.padding=0,j.style.margin=0,j.style.display="none",j.innerHTML="",document.body.insertBefore(f,j),j.dispatchEvent(new Event("click"))},1500,e),a.utils.HWatcher.__parent=g,a.utils.HWatcher.watch(document.body)}}})(Travelsoft,moment,jQuery);
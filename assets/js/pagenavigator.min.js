!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],function(){return t.PageNavigator=n()}):"object"==typeof module&&module.exports?module.exports=n():t.PageNavigator=n()}(this,function(){function t(t,n,e){function a(){var e=1;1===r?l[e]=t:t.forEach(function(a,o){"undefined"==typeof l[e]&&(l[e]=[]),l[e].push(a),((o+1)%n===0||o+1===t.length)&&e++})}function o(t,n){var a=e,o=/\#page\#/,i=/\#content\#/;for(t=t||"",n=n||"";o.test(a);)a=a.replace("#page#",t);for(;i.test(a);)a=a.replace("#content#",n);return a}function i(t){var n=1,e=r,a='<nav aria-label="Page navigation">';if(1===r)return"";t>Math.floor(u/2)+1&&r>u&&(n=t-Math.floor(u/2)),t<=r-Math.floor(u/2)&&r>=n+u-1?e=n+u-1:e-u+1>=1&&(n=e-u+1),a+='<ul class="pagination">',t>1&&(a+="<li>",a+=t>2?o(t-1,"<span>&laquo;</span>"):o(t,"<span>&laquo;</span>"),a+="</li>",n>1&&(a+="<li>"+o(1,1)+"</li>",n>2&&(a+="<li>"+o(n+1,"...")+"</li>")));do a+="<li "+(n==t?'class="active"':"")+" >"+o(n,n)+"</li>",n++;while(e>=n);return e>t&&(r>e&&(r-1>e&&(a+="<li>"+o(Math.round(e+(r-e)/2),"...")+"</li>"),a+="<li>"+o(r,r)+"</li>"),a+="<li>"+o(t+1,"<span>&raquo;</span>")+"</li>"),a+="</ul>",a+="</nav>"}var r=Math.ceil(t.length/n)||1,u=3,l={};("string"!=typeof e||""===e)&&(e='<a data-page="#page#" href="#">#content#</a>'),this.page=function(t){if("object"!=typeof l[t])throw new Error("Страницы с номером "+t+" не существует");return{getHtml:function(){return i(t)},getItems:function(){return l[t]},getItemsCount:function(){return l[t].length}}},this.pageCount=function(){return r},a()}return t});